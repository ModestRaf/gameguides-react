@use './variables' as *;

// Стили по умолчанию (тёмная тема)
main {
  background: $dark-background;
  color: $dark-text;
  max-width: inherit;
  width: 100%;
  position: relative;
  padding: 130px 2rem 130px;

  &:before,
  &:after {
    content: "";
    display: block;
    left: 0;
    width: 100%;
    background: $primary;
    position: absolute;
  }

  &:before {
    top: 39px;
    height: 90px;
    clip-path: polygon(24.8% 0, 26.5% 15px, 34% 15px, 35.5% 0, 70% 0);
    z-index: 10;
  }

  &:after {
    top: 0;
    height: 40px;
  }
}

.container {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  align-items: center;
  gap: 30px;
}

// Светлая тема
[data-theme="light"] {
  main {
    background: $light-background;
    color: $light-text;

    &:before,
    &:after {
      background: $light-accent;
    }
  }
}

// Автоматическая тема
[data-theme="auto"] {
  @media (prefers-color-scheme: dark) {
    main {
      background: $dark-background;
      color: $dark-text;

      &:before,
      &:after {
        background: $primary;
      }
    }
  }

  @media (prefers-color-scheme: light) {
    main {
      background: $light-background;
      color: $light-text;

      &:before,
      &:after {
        background: $light-accent;
      }
    }
  }
}

@media (width <= 1080px) {
  main {
    padding-top: 40px;

    &:before,
    &:after {
      display: none;
    }
  }
}